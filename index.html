<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>YogaSix West New York ‚Äî Schedule</title>
<link rel="preconnect" href="https://fonts.googleapis.com" />
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet" />
<style>
  :root{
    --card-bg: rgba(255,255,255,0.85);
    --border: rgba(0,0,0,0.07);
    --muted: #667085;
    --ink: #0b1220;
    --accent1: #6ec3ff;
    --accent2: #7fafff;
    --accent3: #b38cff;
    --accent4: #ffb3e0;
    --pill: #f6f8fb;
  }
  html,body{height:100%}
  body{
    margin:0;
    font-family:Inter,system-ui,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
    color:var(--ink);
    background: radial-gradient(1200px 900px at -10% -10%, #b3e7ff 0%, transparent 40%),
                radial-gradient(1200px 900px at 110% 20%, #ffd0f0 0%, transparent 45%),
                radial-gradient(1000px 900px at 30% 120%, #d8d6ff 0%, transparent 40%),
                linear-gradient(180deg,#e9f6ff 0%, #e8ecff 30%, #f7e9ff 100%);
    overflow-x:hidden;
  }
  /* floating yoga icons (lotus, chakra-ish circles) */
  .float{
    position:fixed; pointer-events:none; opacity:.18; filter:blur(.2px);
    animation: drift 24s linear infinite;
  }
  .f1{ top:8vh; left:6vw; font-size:90px; animation-duration:28s }
  .f2{ top:22vh; right:10vw; font-size:70px; animation-duration:22s }
  .f3{ bottom:8vh; left:14vw; font-size:80px; animation-duration:25s }
  .f4{ bottom:14vh; right:18vw; font-size:95px; animation-duration:30s }
  @keyframes drift{
    0%{ transform:translateY(0) rotate(0deg) }
    50%{ transform:translateY(-12px) rotate(6deg) }
    100%{ transform:translateY(0) rotate(0deg) }
  }

  .wrap{ max-width:1100px; margin:64px auto; padding:0 20px; }
  .title{ text-align:center; margin-bottom:12px; font-weight:800; letter-spacing:.3px; font-size:42px }
  .subtitle{ text-align:center; color:var(--muted); font-weight:600; margin-bottom:22px }

  .cta-row{
    display:flex; gap:12px; justify-content:center; flex-wrap:wrap; margin-bottom:30px
  }
  .chip{
    display:inline-flex; align-items:center; gap:8px; padding:10px 14px;
    border-radius:999px; color:#0e1330; font-weight:700; font-size:14px;
    background: linear-gradient(135deg, var(--accent1), var(--accent3));
    box-shadow: 0 10px 24px rgba(98,107,255,.25);
    text-decoration:none;
  }
  .chip.secondary{
    background: linear-gradient(135deg, var(--accent2), var(--accent4));
  }

  .card{
    background:var(--card-bg); border:1px solid var(--border);
    border-radius:20px; box-shadow:0 20px 60px rgba(22,26,80,.12);
    overflow:hidden; margin-bottom:22px;
    backdrop-filter: blur(6px);
  }
  .card .head{
    display:flex; align-items:center; justify-content:space-between;
    padding:16px 18px; font-weight:800; border-bottom:1px dashed var(--border);
    background:linear-gradient(180deg, rgba(255,255,255,.65), rgba(255,255,255,.35));
  }
  .meta{ color:var(--muted); font-size:13px; font-weight:600 }

  .row{
    display:flex; align-items:center; gap:16px;
    padding:16px 18px; border-top:1px solid var(--border)
  }
  .row:first-of-type{ border-top:0 }
  .time{
    background:var(--pill); border:1px solid var(--border);
    padding:8px 12px; border-radius:999px; font-weight:800; font-size:14px
  }
  .txt{
    display:flex; align-items:center; gap:8px; flex-wrap:wrap; font-weight:700
  }
  .dash{ color:var(--muted); font-weight:800 }
  .teacher{ font-weight:600; color:#29324a }

  .empty{
    padding:28px 18px; color:var(--muted); font-weight:600
  }

  iframe{
    width:100%; height:900px; border:0; border-top:1px dashed var(--border)
  }

  .footer-note{
    text-align:center; color:var(--muted); font-size:12px; margin-top:16px
  }
</style>
</head>
<body>
  <!-- floating iconography -->
  <div class="float f1">ü™∑</div>
  <div class="float f2">üßò‚Äç‚ôÄÔ∏è</div>
  <div class="float f3">üïâÔ∏è</div>
  <div class="float f4">üìø</div>

  <div class="wrap">
    <div class="title">YogaSix West New York</div>
    <div class="subtitle">Auto-updated from ClubReady</div>

    <div class="cta-row">
      <a class="chip" href="https://members.yogasix.com/offers/yogasix-west-new-york/3-classes-for-just-36?subtotal=false" target="_blank" rel="noopener">Book Intro Offer</a>
      <a class="chip secondary" href="tel:+12013615299">Call (201) 361-5299</a>
      <a class="chip" href="https://maps.google.com/?q=YogaSix+West+New+York" target="_blank" rel="noopener">Get Directions</a>
    </div>

    <!-- Daily -->
    <section class="card" id="dailyCard">
      <div class="head">
        <div>Today‚Äôs Classes</div>
        <div class="meta" id="dailyMeta">Loading‚Ä¶</div>
      </div>
      <div id="dailyList" class="list"></div>
    </section>

    <!-- Weekly widget (no parsing) -->
    <section class="card">
      <div class="head">
        <div>This Week (embedded)</div>
        <div class="meta">From ClubReady</div>
      </div>
      <iframe
        title="Full Week Schedule"
        src="https://app.clubready.com/admin/api/classpublish.asp?ClassKey=12BF945018B3E576D8848C93D10ED5EF0A74FDC8810A8C48"
      ></iframe>
    </section>

    <div class="footer-note">If you don‚Äôt see classes, check your browser console for <em>fetch</em> errors.</div>
  </div>

<script>
(async () => {
  const DAILY_URL = "https://yogasix-schedule.kate-espinal.workers.dev/daily.json";

  const $list = document.getElementById("dailyList");
  const $meta = document.getElementById("dailyMeta");

  try {
    const resp = await fetch(DAILY_URL, { cache: "no-store" });
    if (!resp.ok) throw new Error("HTTP " + resp.status);
    const data = await resp.json();

    if (!data || !data.items) throw new Error("Bad JSON shape");

    $meta.textContent = data.pretty || data.date || "Today";

    if (!data.items.length) {
      $list.innerHTML = `<div class="empty">No classes.</div>`;
      return;
    }

    $list.innerHTML = data.items.map(it => {
      const time = sanitize(it.time);
      const title = sanitize(it.title);
      const teacher = sanitize(it.teacher);
      return `
        <div class="row">
          <div class="time">${time}</div>
          <div class="txt">
            <span class="title">${title}</span>
            <span class="dash">‚Äì</span>
            <span class="teacher">${teacher}</span>
          </div>
        </div>`;
    }).join("");
  } catch (err) {
    console.error("Failed to load daily.json:", err);
    $meta.textContent = "Load error";
    $list.innerHTML = `<div class="empty">Couldn‚Äôt load daily schedule. Open the console for details.</div>`;
  }

  function sanitize(s) {
    if (!s && s !== 0) return "";
    return String(s)
      .replace(/[&<>"']/g, m => ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[m]));
  }
})();
</script>
</body>
</html>
